Building...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
      FROM information_schema.tables
      WHERE table_type = 'BASE TABLE' AND table_schema = 'demo_task'
info: medical-insurance-backend[0]
      Database ensured created successfully
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5011
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: /var/www/html/test-task.net/medical-insurance-backend
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: medical_insurance_backend.Controllers.CompanyController[0]
      Retrieving companies with pagination: PageNumber=1, PageSize=10
info: medical_insurance_backend.Services.CompanyService[0]
      Retrieving companies - Page: 1, Size: 10
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (73ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      ORDER BY `c`.`CompanyNameEn`
      LIMIT @__p_1 OFFSET @__p_0
info: medical_insurance_backend.Services.CompanyService[0]
      Retrieved 3 companies
info: medical_insurance_backend.Controllers.CompanyController[0]
      Retrieved 3 companies
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
warn: medical_insurance_backend.Services.CompanyService[0]
      Company not found with CR Number: 1111111111
warn: medical_insurance_backend.Controllers.CompanyController[0]
      Company not found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
warn: medical_insurance_backend.Services.CompanyService[0]
      Company not found with CR Number: 1111111111
warn: medical_insurance_backend.Controllers.CompanyController[0]
      Company not found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Saving company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
warn: medical_insurance_backend.Services.CompanyService[0]
      Company not found with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Creating new company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__companyDto_CrNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__companyDto_CrNumber_0
      LIMIT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 255), @p2='?' (Size = 255), @p3='?' (Size = 10), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 10), @p7='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      INSERT INTO `Companies` (`Classification`, `CompanyNameAr`, `CompanyNameEn`, `CRNumber`, `CreatedAt`, `LicenseStartDate`, `PhoneNumber`, `UpdatedAt`)
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
      SELECT `Id`
      FROM `Companies`
      WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
info: medical_insurance_backend.Services.CompanyService[0]
      Company created successfully with ID: 4
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company created successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company found successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Saving company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Updating company with ID: 4
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`Id` = @__p_0
      LIMIT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SET AUTOCOMMIT = 1;
      UPDATE `Companies` SET `LicenseStartDate` = @p0, `UpdatedAt` = @p1
      WHERE `Id` = @p2;
      SELECT ROW_COUNT();
info: medical_insurance_backend.Services.CompanyService[0]
      Company updated successfully with ID: 4
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company updated successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company found successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company found successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company found successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Saving company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Updating company with ID: 4
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`Id` = @__p_0
      LIMIT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SET AUTOCOMMIT = 1;
      UPDATE `Companies` SET `CompanyNameEn` = @p0, `LicenseStartDate` = @p1, `UpdatedAt` = @p2
      WHERE `Id` = @p3;
      SELECT ROW_COUNT();
info: medical_insurance_backend.Services.CompanyService[0]
      Company updated successfully with ID: 4
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company updated successfully with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Searching for company with CR Number: 1111111111
info: medical_insurance_backend.Services.CompanyService[0]
      Searching for company with CR Number: 1111111111
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__crNumber_0='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
      SELECT `c`.`Id`, `c`.`Classification`, `c`.`CompanyNameAr`, `c`.`CompanyNameEn`, `c`.`CRNumber`, `c`.`CreatedAt`, `c`.`LicenseStartDate`, `c`.`PhoneNumber`, `c`.`UpdatedAt`
      FROM `Companies` AS `c`
      WHERE `c`.`CRNumber` = @__crNumber_0
      LIMIT 1
info: medical_insurance_backend.Services.CompanyService[0]
      Company found with CR Number: 1111111111
info: medical_insurance_backend.Controllers.CompanyController[0]
      Company found successfully with CR Number: 1111111111
